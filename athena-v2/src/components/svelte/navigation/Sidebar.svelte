<script lang="ts">
  export let activePanel: string;
  export let onPanelChange: (panel: string) => void;
  
  const criticalFeatures = [
    { id: 'upload', label: 'File Upload', icon: 'ğŸ“' },
    { id: 'analysis', label: 'Analysis Dashboard', icon: 'ğŸ”' },
    { id: 'ai-models', label: 'AI Model Config', icon: 'ğŸ¤–' }
  ];
  
  const importantFeatures = [
    { id: 'static', label: 'Static Analysis', icon: 'ğŸ“Š' },
    { id: 'dynamic', label: 'Dynamic Analysis', icon: 'âš¡' },
    { id: 'network', label: 'Network Analysis', icon: 'ğŸŒ' }
  ];
  
  const advancedFeatures = [
    { id: 'hex', label: 'Hex Editor', icon: 'ğŸ”¢' },
    { id: 'disassembly', label: 'Disassembly', icon: 'ğŸ’¾' },
    { id: 'yara', label: 'YARA Rules', icon: 'ğŸ›¡ï¸' },
    { id: 'workflow', label: 'Workflow Designer', icon: 'ğŸ”„' }
  ];
</script>

<aside class="sidebar">
  <nav aria-label="Main navigation">
    <div class="critical-priority">
      <div class="priority-header">
        <span>ğŸ”´</span> Critical Features
      </div>
      {#each criticalFeatures as feature}
        <button
          class="sidebar-item {activePanel === feature.id ? 'active' : ''}"
          on:click={() => onPanelChange(feature.id)}
          aria-current={activePanel === feature.id ? 'page' : undefined}
        >
          <span>{feature.icon}</span>
          {feature.label}
        </button>
      {/each}
    </div>
    
    <div class="important-priority">
      <div class="priority-header">
        <span>ğŸŸ¡</span> Important Features
      </div>
      {#each importantFeatures as feature}
        <button
          class="sidebar-item {activePanel === feature.id ? 'active' : ''}"
          on:click={() => onPanelChange(feature.id)}
          aria-current={activePanel === feature.id ? 'page' : undefined}
        >
          <span>{feature.icon}</span>
          {feature.label}
        </button>
      {/each}
    </div>
    
    <div class="advanced-priority">
      <div class="priority-header">
        <span>ğŸŸ¢</span> Advanced Features
      </div>
      {#each advancedFeatures as feature}
        <button
          class="sidebar-item {activePanel === feature.id ? 'active' : ''}"
          on:click={() => onPanelChange(feature.id)}
          aria-current={activePanel === feature.id ? 'page' : undefined}
        >
          <span>{feature.icon}</span>
          {feature.label}
        </button>
      {/each}
    </div>
  </nav>
</aside>