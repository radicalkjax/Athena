import{c as y,o as it,t as d,i as a,a as g,S as w,F as te,b as h,l as v,m as fe,s as rt,g as ot}from"./vendor-solid-B-ykKXyV.js";import{A as De,S as de,i as x}from"./index-UCtE3PH6.js";import"./vendor-BrNNPIVf.js";var dt=d('<div style="background:rgba(255, 107, 107, 0.1);border:1px solid var(--danger-color);padding:10px;border-radius:8px;margin-bottom:15px"><span style=color:var(--danger-color)>âŒ '),ct=d('<div style="background:rgba(76, 175, 80, 0.1);border:1px solid var(--success-color);padding:10px;border-radius:8px;margin-bottom:15px"><span style=color:var(--success-color)>âœ… '),gt=d('<div style="padding:0 20px 20px 20px"><div style=margin-bottom:20px><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Wasmtime Runtime:</span><span style=color:var(--barbie-pink);font-weight:600>29.0</span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Component Model:</span><span style=color:var(--success-color);font-weight:600>Enabled</span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>WASM Modules Loaded:</span><span style=color:var(--info-color);font-weight:600></span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>WASM Memory Usage:</span><span style=color:var(--warning-color);font-weight:600>MB</span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>System Uptime:</span><span style=color:var(--barbie-pink);font-weight:600></span></div></div><h4 style=color:var(--barbie-pink);margin-bottom:15px>Deployment Targets</h4><div style=background:var(--code-bg);padding:15px;border-radius:6px>'),ut=d('<div style=margin-bottom:20px><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Providers Configured:</span><span style=color:var(--barbie-pink);font-weight:600>/</span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Providers Online:</span><span style=color:var(--success-color);font-weight:600></span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Ensemble Mode:</span><span style=color:var(--success-color);font-weight:600></span></div><div class=config-item style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255, 107, 157, 0.2)"><span style=color:var(--text-secondary)>Consensus Threshold:</span><span style=color:var(--info-color);font-weight:600>%'),mt=d("<h4 style=color:var(--barbie-pink);margin-bottom:15px>Active AI Providers"),pt=d("<div style=display:flex;flex-direction:column;gap:15px>"),bt=d("<span style=font-size:0.75rem;color:var(--warning-color);margin-left:8px>â— Unsaved"),yt=d("<h4 style=color:var(--barbie-pink);margin-top:20px;margin-bottom:15px>Ensemble Settings"),ht=d("<span style=color:var(--text-secondary);font-style:italic>No providers configured. Enable providers above to use ensemble mode."),xt=d(`<div style=background:var(--code-bg);padding:15px;border-radius:6px;margin-bottom:20px><p style=color:var(--text-secondary);font-size:0.85rem;margin-bottom:15px>Ensemble mode queries multiple AI providers in parallel and combines their results using consensus voting. This improves accuracy by 15-25% compared to single-model analysis.</p><label style=display:flex;align-items:center;margin-bottom:10px;cursor:pointer><input type=checkbox style=margin-right:10px><span style=color:var(--text-primary)>Enable consensus voting</span><span style=color:var(--text-secondary);font-size:0.8rem;margin-left:8px>(aggregate threat levels across providers)</span></label><label style=display:flex;align-items:center;margin-bottom:10px;cursor:pointer><input type=checkbox style=margin-right:10px><span style=color:var(--text-primary)>Weight responses by model confidence</span><span style=color:var(--text-secondary);font-size:0.8rem;margin-left:8px>(high-confidence votes count more)</span></label><label style=display:flex;align-items:center;margin-bottom:15px;cursor:pointer><input type=checkbox style=margin-right:10px><span style=color:var(--text-primary)>Enable model cross-validation</span><span style=color:var(--text-secondary);font-size:0.8rem;margin-left:8px>(models critique each other's findings)</span></label><div style=margin-bottom:15px><label style=display:block;margin-bottom:5px;color:var(--text-secondary)>Minimum Consensus Threshold: <strong style=color:var(--barbie-pink)>%</strong></label><input type=range min=50 max=100 style=width:100%><div style=display:flex;justify-content:space-between;font-size:0.75rem;color:var(--text-secondary)><span>50% (simple majority)</span><span>100% (unanimous)</span></div></div><div style=margin-bottom:15px><label style=display:block;margin-bottom:8px;color:var(--text-secondary)>Providers for Ensemble (leave empty to use all enabled):</label><div style=display:flex;flex-wrap:wrap;gap:8px></div></div><div style=text-align:right;margin-top:15px><button class="btn btn-secondary"style="padding:6px 16px;font-size:0.85rem">`),ft=d('<h3 style="color:var(--barbie-pink);margin:15px 0">ğŸ”§ WASM Modules'),vt=d("<div style=background:var(--code-bg);padding:10px;border-radius:6px;font-size:0.85rem;max-height:150px;overflow-y:auto>"),_t=d('<div class=content-panel><h2 style=color:var(--barbie-pink);margin-bottom:20px>ğŸ› ï¸ WASM Platform Configuration</h2><p style=color:var(--text-secondary);margin-bottom:20px>Configure runtime environment and AI providers</p><div class=analysis-grid><div class=analysis-main></div><div class=platform-sidebar><h3 style=color:var(--barbie-pink);margin-bottom:15px>ğŸ“Š Platform Monitoring</h3><div class=stats-grid></div><h3 style="color:var(--barbie-pink);margin:15px 0">ğŸ¬ Actions</h3><div style=display:flex;flex-direction:column;gap:8px><button class="btn btn-primary"></button><button class="btn btn-secondary">ğŸ”„ Refresh Status</button><button class="btn btn-secondary">ğŸ“Š View Cache Stats</button><button class="btn btn-secondary"title="Remove expired cache entries"></button><button class="btn btn-secondary">ğŸ“‹ Export Config'),$t=d("<label style=display:flex;align-items:center;margin-bottom:10px;cursor:pointer><input type=checkbox style=margin-right:10px><span style=color:var(--text-primary)>"),kt=d("<span style=font-size:0.75rem;border-radius:10px>"),St=d("<span style=font-size:0.75rem;border-radius:10px>ğŸ”‘ Key Configured"),Ct=d("<option>Loading models..."),wt=d("<option value>"),Tt=d('<button class="btn btn-secondary"title="Delete API key from secure storage"style="padding:6px 12px;font-size:0.85rem;background:rgba(255, 107, 107, 0.1);border-color:var(--danger-color);color:var(--danger-color)">'),Pt=d('<button class="btn btn-secondary"title="Reset circuit breaker for this provider"style="padding:6px 12px;font-size:0.85rem;background:rgba(255, 193, 7, 0.1);border-color:var(--warning-color);color:var(--warning-color)">ğŸ”„ Reset Breaker'),Mt=d('<div style=background:var(--code-bg);padding:15px;border-radius:6px><div style=display:flex;justify-content:space-between;align-items:center;margin-bottom:15px><div style=display:flex;align-items:center;gap:10px;flex-wrap:wrap><strong style=color:var(--barbie-pink);font-size:1.1rem><span style=margin-right:8px></span></strong></div><label style=display:flex;align-items:center;cursor:pointer><input type=checkbox style=margin-right:8px><span></span></label></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:15px"><div><label style=display:block;margin-bottom:5px;color:var(--text-secondary);font-size:0.9rem>Model:</label><div style=display:flex;gap:4px><select style="flex:1;height:38px;padding:0 8px;background:var(--panel-bg);border:1px solid var(--accent-bg);border-radius:4px;box-sizing:border-box;color:var(--text-primary)"></select><button type=button style="width:38px;height:38px;padding:0;background:var(--panel-bg);border:1px solid var(--accent-bg);border-radius:4px;box-sizing:border-box;color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:1"></button></div></div><div><label style=display:block;margin-bottom:5px;color:var(--text-secondary);font-size:0.9rem>API Key:</label><input type=password placeholder=sk-... style="width:100%;height:38px;padding:0 8px;background:var(--panel-bg);border:1px solid var(--accent-bg);border-radius:4px;box-sizing:border-box;color:var(--text-primary)"></div><div><label style=display:block;margin-bottom:5px;color:var(--text-secondary);font-size:0.9rem>Max Tokens:</label><input type=number style="width:100%;height:38px;padding:0 8px;background:var(--panel-bg);border:1px solid var(--accent-bg);border-radius:4px;box-sizing:border-box;color:var(--text-primary)"></div><div><label style=display:block;margin-bottom:5px;color:var(--text-secondary);font-size:0.9rem>Temperature:</label><input type=number step=0.1 min=0 max=1 style="width:100%;height:38px;padding:0 8px;background:var(--panel-bg);border:1px solid var(--accent-bg);border-radius:4px;box-sizing:border-box;color:var(--text-primary)"></div></div><div style=margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px><div style=display:flex;gap:8px></div><button class="btn btn-secondary"style="padding:6px 16px;font-size:0.85rem">'),At=d("<span style=font-size:0.75rem;border-radius:10px>Circuit: "),Et=d("<option>"),zt=d("<button type=button style=border-radius:16px;font-size:0.85rem> "),Kt=d('<div style="display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px solid rgba(255, 107, 157, 0.1)"><span style=color:var(--text-primary)></span><span style=color:var(--text-secondary)>KB');const Re=[{id:"claude",name:"Anthropic Claude",icon:"ğŸ¤–",model:"",maxTokens:4096,temperature:.1,models:[]},{id:"openai",name:"OpenAI GPT",icon:"ğŸ§ ",model:"",maxTokens:4096,temperature:.1,models:[]},{id:"deepseek",name:"DeepSeek",icon:"ğŸ”",model:"",maxTokens:4096,temperature:.1,models:[]},{id:"gemini",name:"Google Gemini",icon:"ğŸŒŸ",model:"",maxTokens:4096,temperature:.1,models:[]},{id:"mistral",name:"Mistral AI",icon:"ğŸŒŠ",model:"",maxTokens:4096,temperature:.1,models:[]},{id:"llama",name:"Llama (via Groq)",icon:"ğŸ¦™",model:"",maxTokens:4096,temperature:.1,models:[]}],jt=()=>{const[M,ne]=y(Re.map(e=>({...e,apiKey:"",enabled:!1}))),[ve,ce]=y({}),[ge,Oe]=y(null),[ue,Ie]=y([]),[Ve,We]=y(0),[Ge,qe]=y({}),[H,_e]=y({}),[me,$e]=y(!0),[Q,le]=y(!1),[ke,u]=y(null),[Se,b]=y(null),[pe,Je]=y({}),[Ce,we]=y(null),[Te,Pe]=y(!1),[Me,He]=y([{id:"fermyon",name:"Fermyon Cloud (Global Edge)",enabled:!0},{id:"wasmcloud",name:"wasmCloud Lattice (Distributed)",enabled:!0},{id:"k8s",name:"Kubernetes + WASM Runtime",enabled:!1},{id:"self",name:"Self-hosted Edge Nodes",enabled:!1}]),[A,Ae]=y({consensusVoting:!0,weightByConfidence:!0,crossValidation:!1,consensusThreshold:75,enabledProviders:[]}),[Ee,be]=y(!1);it(()=>{ze();const e=setInterval(Ke,5e3);return()=>clearInterval(e)});const ze=()=>{$e(!0),u(null),x("list_ai_provider_configs").then(e=>{const s=Re.map(t=>{const i=e[t.id];return{...t,apiKey:(i==null?void 0:i.api_key)||"",enabled:(i==null?void 0:i.enabled)||!1,model:(i==null?void 0:i.model)||t.model,maxTokens:(i==null?void 0:i.max_tokens)||t.maxTokens,temperature:(i==null?void 0:i.temperature)||t.temperature}});ne(s),setTimeout(()=>{s.forEach(t=>{t.apiKey&&t.models.length===0&&ye(t.id)})},100)}).catch(e=>console.warn("Failed to load AI configs:",e)),x("get_ai_provider_status").then(e=>{ce(e)}).catch(e=>console.warn("Failed to load provider status:",e)),Fe(),Ke(),x("get_wasm_modules").then(e=>{Ie(e)}).catch(e=>console.warn("Failed to load WASM modules:",e)),x("get_wasm_memory_usage").then(e=>{We((e==null?void 0:e.total_bytes)||0)}).catch(e=>console.warn("Failed to load WASM memory:",e)),x("get_ensemble_settings").then(e=>{Ae({consensusVoting:e.consensus_voting??!0,weightByConfidence:e.weight_by_confidence??!0,crossValidation:e.cross_validation??!1,consensusThreshold:e.consensus_threshold??75,enabledProviders:e.enabled_providers??[]}),be(!1)}).catch(e=>console.warn("Failed to load ensemble settings:",e)),$e(!1)},Ke=()=>{x("get_system_stats").then(e=>{Oe(e)}).catch(e=>console.warn("Failed to load system stats:",e))},Fe=async()=>{const e=["claude","openai","deepseek","gemini","mistral","llama"],s={};for(const t of e)try{const i=await x("is_circuit_breaker_open",{provider:t});s[t]=i}catch(i){console.warn(`Failed to get circuit breaker state for ${t}:`,i),s[t]=!1}Je(s)},Qe=async e=>{const s=M().find(i=>i.id===e);if(!(!s||!window.confirm(`Are you sure you want to delete the API key for ${s.name}?

This will remove the key from secure storage and you'll need to re-enter it to use this provider.`))){we(e),u(null);try{await x("delete_api_key_from_storage",{provider:e}),ne(o=>o.map(_=>_.id===e?{..._,apiKey:"",enabled:!1}:_));const i=await x("get_ai_provider_status");ce(i),b(`API key deleted for ${s.name}`),setTimeout(()=>b(null),3e3)}catch(i){u(`Failed to delete API key: ${(i==null?void 0:i.message)||i}`),setTimeout(()=>u(null),5e3)}finally{we(null)}}},Xe=async e=>{const s=M().find(t=>t.id===e);if(s){u(null);try{await x("reset_circuit_breaker",{provider:e}),await Fe(),b(`Circuit breaker reset for ${s.name}`),setTimeout(()=>b(null),3e3)}catch(t){u(`Failed to reset circuit breaker: ${(t==null?void 0:t.message)||t}`),setTimeout(()=>u(null),5e3)}}},Ye=async()=>{Pe(!0),u(null);try{const e=await x("cleanup_cache");b(`Cleaned up ${e} expired cache entries`),setTimeout(()=>b(null),3e3)}catch(e){u(`Failed to cleanup cache: ${(e==null?void 0:e.message)||e}`),setTimeout(()=>u(null),5e3)}finally{Pe(!1)}},ye=async e=>{const s=M().find(t=>t.id===e);if(!(s!=null&&s.apiKey)){u(`No API key configured for ${(s==null?void 0:s.name)||e}`),setTimeout(()=>u(null),3e3);return}_e(t=>({...t,[e]:!0})),u(null);try{const i={claude:"claude",openai:"openai",deepseek:"deepseek",gemini:"gemini",mistral:"mistral",llama:"llama"}[e]||e;console.log(`Fetching models for ${i}...`);const o=await x("list_ai_models",{provider:i});if(console.log(`Received ${(o==null?void 0:o.length)||0} models for ${e}:`,o),!o||o.length===0){u(`No models returned from ${s.name} API`),setTimeout(()=>u(null),3e3);return}qe(_=>({..._,[e]:o})),ne(_=>_.map(N=>{if(N.id===e){const F=o.map(se=>se.id);return N.model&&!F.includes(N.model)&&F.unshift(N.model),{...N,models:F.length>0?F:N.models}}return N})),b(`Loaded ${o.length} models for ${s.name}`),setTimeout(()=>b(null),3e3)}catch(t){console.error(`Failed to fetch models for ${e}:`,t);const i=(t==null?void 0:t.message)||(t==null?void 0:t.toString())||"Unknown error";u(`Failed to fetch ${s.name} models: ${i}`),setTimeout(()=>u(null),5e3)}finally{_e(t=>({...t,[e]:!1}))}},Y=(e,s,t)=>{ne(i=>i.map(o=>o.id===e?{...o,[s]:t}:o))},Ne=e=>{le(!0),u(null);const s={id:e.id,name:e.name,api_key:e.apiKey||null,base_url:null,model:e.model,max_tokens:e.maxTokens,temperature:e.temperature,enabled:e.enabled};x("update_ai_provider_config",{provider:e.id,config:s}).then(()=>{b(`${e.name} configuration saved`),setTimeout(()=>b(null),3e3),x("get_ai_provider_status").then(t=>ce(t)).catch(()=>{}),e.apiKey&&e.models.length===0&&ye(e.id)}).catch(t=>{u(`Failed to save ${e.name}: ${t}`)}).finally(()=>{le(!1)})},Ze=e=>{He(s=>s.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))},Z=(e,s)=>{Ae(t=>({...t,[e]:s})),be(!0)},et=async()=>{le(!0),u(null);try{const e=A(),s={consensus_voting:e.consensusVoting,weight_by_confidence:e.weightByConfidence,cross_validation:e.crossValidation,consensus_threshold:e.consensusThreshold,enabled_providers:e.enabledProviders};await x("update_ensemble_settings",{settings:s}),b("Ensemble settings saved"),be(!1),setTimeout(()=>b(null),3e3)}catch(e){u(`Failed to save ensemble settings: ${(e==null?void 0:e.message)||e}`),setTimeout(()=>u(null),5e3)}finally{le(!1)}},Le=()=>{const e=ve(),s=M().filter(o=>o.apiKey),t=s.length;return t===0?"0/0":`${s.filter(o=>{const _=e[o.id];return(_==null?void 0:_.healthy)===!0}).length}/${t}`},tt=()=>{const e=ge();if(!(e!=null&&e.memory))return me()?"...":"N/A";const s=e.memory.used,t=e.memory.total;if(typeof s!="number"||typeof t!="number"||isNaN(s)||isNaN(t))return"N/A";const i=(s/1024/1024/1024).toFixed(1),o=(t/1024/1024/1024).toFixed(1);return`${i}/${o}GB`},nt=()=>{const e=ge();if(!(e!=null&&e.cpu))return me()?"...":"N/A";const s=e.cpu.usage;return typeof s!="number"||isNaN(s)?"N/A":`${Math.round(s)}%`},je=()=>{const e=ge();if(!e)return me()?"...":"N/A";const s=e.uptime;if(typeof s!="number"||isNaN(s)||s<0)return"N/A";if(s<60)return`${Math.floor(s)}s`;const t=Math.floor(s/60);if(t<60)return`${t}m`;const i=Math.floor(t/60);return i<24?`${i}h ${t%60}m`:`${Math.floor(i/24)}d ${i%24}h`},lt=()=>{const e={aiProviders:M().map(o=>({id:o.id,enabled:o.enabled,model:o.model,maxTokens:o.maxTokens,temperature:o.temperature})),deploymentTargets:Me(),ensembleSettings:A()},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),i=document.createElement("a");i.href=t,i.download="athena-platform-config.json",i.click(),URL.revokeObjectURL(t),b("Configuration exported"),setTimeout(()=>b(null),3e3)};return(()=>{var e=_t(),s=e.firstChild,t=s.nextSibling,i=t.nextSibling,o=i.firstChild,_=o.nextSibling,N=_.firstChild,F=N.nextSibling,se=F.nextSibling,st=se.nextSibling,ae=st.firstChild,Be=ae.nextSibling,Ue=Be.nextSibling,ie=Ue.nextSibling,at=ie.nextSibling;return a(e,g(w,{get when(){return ke()},get children(){var r=dt(),n=r.firstChild;return n.firstChild,a(n,ke,null),r}}),i),a(e,g(w,{get when(){return Se()},get children(){var r=ct(),n=r.firstChild;return n.firstChild,a(n,Se,null),r}}),i),a(o,g(De,{title:"Runtime Environment",icon:"ğŸ—ï¸",className:"scrollable-panel",get children(){var r=gt(),n=r.firstChild,p=n.firstChild,$=p.nextSibling,k=$.nextSibling,f=k.firstChild,L=f.nextSibling,j=k.nextSibling,B=j.firstChild,E=B.nextSibling,O=E.firstChild,U=j.nextSibling,I=U.firstChild,D=I.nextSibling,V=n.nextSibling,S=V.nextSibling;return a(L,()=>ue().length),a(E,()=>Math.round(Ve()/1024/1024),O),a(D,je),a(S,g(te,{get each(){return Me()},children:z=>(()=>{var G=$t(),R=G.firstChild,c=R.nextSibling;return R.addEventListener("change",()=>Ze(z.id)),a(c,()=>z.name),h(()=>R.checked=z.enabled),G})()})),r}}),null),a(o,g(De,{title:"AI Provider Configuration",icon:"ğŸ¤–",className:"scrollable-panel",get children(){return[(()=>{var r=ut(),n=r.firstChild,p=n.firstChild,$=p.nextSibling,k=$.firstChild,f=n.nextSibling,L=f.firstChild,j=L.nextSibling,B=f.nextSibling,E=B.firstChild,O=E.nextSibling,U=B.nextSibling,I=U.firstChild,D=I.nextSibling,V=D.firstChild;return a($,()=>M().filter(S=>S.apiKey).length,k),a($,()=>M().length,null),a(j,Le),a(O,()=>A().consensusVoting?"Consensus Voting":"First Response"),a(D,()=>A().consensusThreshold,V),r})(),mt(),(()=>{var r=pt();return a(r,g(te,{get each(){return M()},children:n=>{const p=()=>ve()[n.id];return(()=>{var $=Mt(),k=$.firstChild,f=k.firstChild,L=f.firstChild,j=L.firstChild,B=f.nextSibling,E=B.firstChild,O=E.nextSibling,U=k.nextSibling,I=U.firstChild,D=I.firstChild,V=D.nextSibling,S=V.firstChild,z=S.nextSibling,G=I.nextSibling,R=G.firstChild,c=R.nextSibling,q=G.nextSibling,T=q.firstChild,re=T.nextSibling,P=q.nextSibling,X=P.firstChild,J=X.nextSibling,oe=U.nextSibling,he=oe.firstChild,xe=he.nextSibling;return a(j,()=>n.icon),a(L,()=>n.name,null),a(f,g(w,{get when(){return p()},get children(){var l=kt();return v(l,"padding","2px 8px"),a(l,(()=>{var m=fe(()=>{var C;return!!((C=p())!=null&&C.healthy)});return()=>{var C;return m()?"â— Online":((C=p())==null?void 0:C.last_error)||"â—‹ Offline"}})()),h(m=>{var K,ee;var C=(K=p())!=null&&K.healthy?"rgba(76, 175, 80, 0.2)":"rgba(255, 107, 107, 0.2)",W=(ee=p())!=null&&ee.healthy?"var(--success-color)":"var(--danger-color)";return C!==m.e&&v(l,"background",m.e=C),W!==m.t&&v(l,"color",m.t=W),m},{e:void 0,t:void 0}),l}}),null),a(f,g(w,{get when(){return pe()[n.id]!==void 0},children:()=>{const l=pe()[n.id];return(()=>{var m=At();return m.firstChild,v(m,"padding","2px 8px"),v(m,"background",l?"rgba(255, 107, 107, 0.2)":"rgba(76, 175, 80, 0.2)"),v(m,"color",l?"var(--danger-color)":"var(--success-color)"),a(m,l?"Open":"Closed",null),m})()}}),null),a(f,g(w,{get when(){var l;return(l=p())==null?void 0:l.configured},get children(){var l=St();return v(l,"padding","2px 8px"),v(l,"background","rgba(33, 150, 243, 0.2)"),v(l,"color","var(--info-color)"),l}}),null),E.addEventListener("change",l=>Y(n.id,"enabled",l.currentTarget.checked)),a(O,()=>n.enabled?"Enabled":"Disabled"),S.addEventListener("change",l=>Y(n.id,"model",l.currentTarget.value)),a(S,g(w,{get when(){return H()[n.id]},get children(){return Ct()}}),null),a(S,g(w,{get when(){return fe(()=>!H()[n.id])()&&n.models.length===0},get children(){var l=wt();return a(l,()=>n.apiKey?"Click ğŸ”„ to fetch":"Enter API key first"),l}}),null),a(S,g(w,{get when(){return fe(()=>!H()[n.id])()&&n.models.length>0},get children(){return g(te,{get each(){return n.models},children:l=>{var W;const m=(W=Ge()[n.id])==null?void 0:W.find(K=>K.id===l),C=(m==null?void 0:m.name)||l;return(()=>{var K=Et();return K.value=l,a(K,C),K})()}})}}),null),z.$$click=l=>{l.preventDefault(),l.stopPropagation(),ye(n.id)},a(z,()=>H()[n.id]?"â³":"ğŸ”„"),c.addEventListener("change",l=>Y(n.id,"apiKey",l.currentTarget.value)),re.addEventListener("change",l=>Y(n.id,"maxTokens",parseInt(l.currentTarget.value))),J.addEventListener("change",l=>Y(n.id,"temperature",parseFloat(l.currentTarget.value))),a(he,g(w,{get when(){return n.apiKey},get children(){var l=Tt();return l.$$click=()=>Qe(n.id),a(l,()=>Ce()===n.id?"â³ Deleting...":"ğŸ—‘ï¸ Delete Key"),h(()=>l.disabled=Ce()===n.id),l}}),null),a(he,g(w,{get when(){return pe()[n.id]},get children(){var l=Pt();return l.$$click=()=>Xe(n.id),l}}),null),xe.$$click=()=>Ne(n),a(xe,()=>Q()?"â³ Saving...":"ğŸ’¾ Save"),h(l=>{var m=n.enabled?"var(--success-color)":"var(--text-secondary)",C=H()[n.id]||n.models.length===0,W=H()[n.id]||!n.apiKey,K=n.apiKey?"Fetch models from API":"Enter API key first",ee=Q();return m!==l.e&&v(O,"color",l.e=m),C!==l.t&&(S.disabled=l.t=C),W!==l.a&&(z.disabled=l.a=W),K!==l.o&&rt(z,"title",l.o=K),ee!==l.i&&(xe.disabled=l.i=ee),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),h(()=>E.checked=n.enabled),h(()=>S.value=n.model),h(()=>c.value=n.apiKey),h(()=>re.value=n.maxTokens),h(()=>J.value=n.temperature),$})()}})),r})(),(()=>{var r=yt();return r.firstChild,a(r,g(w,{get when(){return Ee()},get children(){return bt()}}),null),r})(),(()=>{var r=xt(),n=r.firstChild,p=n.nextSibling,$=p.firstChild,k=p.nextSibling,f=k.firstChild,L=k.nextSibling,j=L.firstChild,B=L.nextSibling,E=B.firstChild,O=E.firstChild,U=O.nextSibling,I=U.firstChild,D=E.nextSibling,V=B.nextSibling,S=V.firstChild,z=S.nextSibling,G=V.nextSibling,R=G.firstChild;return $.addEventListener("change",c=>Z("consensusVoting",c.currentTarget.checked)),f.addEventListener("change",c=>Z("weightByConfidence",c.currentTarget.checked)),j.addEventListener("change",c=>Z("crossValidation",c.currentTarget.checked)),a(U,()=>A().consensusThreshold,I),D.addEventListener("change",c=>Z("consensusThreshold",parseInt(c.currentTarget.value))),a(z,g(te,{get each(){return M().filter(c=>c.apiKey&&c.enabled)},children:c=>{const q=()=>A().enabledProviders.includes(c.id);return(()=>{var T=zt(),re=T.firstChild;return T.$$click=()=>{const P=A().enabledProviders,X=q()?P.filter(J=>J!==c.id):[...P,c.id];Z("enabledProviders",X)},v(T,"padding","4px 12px"),v(T,"cursor","pointer"),a(T,()=>c.icon,re),a(T,()=>c.name,null),h(P=>{var X=q()?"2px solid var(--barbie-pink)":"1px solid var(--accent-bg)",J=q()?"rgba(255, 107, 157, 0.2)":"var(--panel-bg)",oe=q()?"var(--barbie-pink)":"var(--text-secondary)";return X!==P.e&&v(T,"border",P.e=X),J!==P.t&&v(T,"background",P.t=J),oe!==P.a&&v(T,"color",P.a=oe),P},{e:void 0,t:void 0,a:void 0}),T})()}}),null),a(z,g(w,{get when(){return M().filter(c=>c.apiKey&&c.enabled).length===0},get children(){return ht()}}),null),R.$$click=et,a(R,()=>Q()?"â³ Saving...":"ğŸ’¾ Save Ensemble Settings"),h(()=>R.disabled=Q()||!Ee()),h(()=>$.checked=A().consensusVoting),h(()=>f.checked=A().weightByConfidence),h(()=>j.checked=A().crossValidation),h(()=>D.value=A().consensusThreshold),r})()]}}),null),a(F,g(de,{label:"System Uptime",get value(){return je()}}),null),a(F,g(de,{label:"Providers Online",get value(){return Le()}}),null),a(F,g(de,{label:"Memory Usage",get value(){return tt()}}),null),a(F,g(de,{label:"CPU Utilization",get value(){return nt()}}),null),a(_,g(w,{get when(){return ue().length>0},get children(){return[ft(),(()=>{var r=vt();return a(r,g(te,{get each(){return ue()},children:n=>(()=>{var p=Kt(),$=p.firstChild,k=$.nextSibling,f=k.firstChild;return a($,()=>n.name||n.id),a(k,()=>Math.round(n.memory_bytes/1024),f),p})()})),r})()]}}),se),ae.$$click=()=>{M().forEach(r=>Ne(r))},a(ae,()=>Q()?"â³ Saving...":"ğŸš€ Save All Configs"),Be.$$click=()=>{ze(),b("Platform data refreshed"),setTimeout(()=>b(null),3e3)},Ue.$$click=()=>{x("get_cache_stats").then(r=>{const n=`Cache: ${r.hit_count||0} hits, ${r.miss_count||0} misses, ${Math.round((r.size_bytes||0)/1024)}KB`;b(n),setTimeout(()=>b(null),5e3)}).catch(()=>u("Failed to get cache stats"))},ie.$$click=Ye,a(ie,()=>Te()?"â³ Cleaning...":"ğŸ§¹ Cleanup Old Cache"),at.$$click=lt,h(r=>{var n=Q(),p=Te();return n!==r.e&&(ae.disabled=r.e=n),p!==r.t&&(ie.disabled=r.t=p),r},{e:void 0,t:void 0}),e})()};ot(["click"]);export{jt as default};
